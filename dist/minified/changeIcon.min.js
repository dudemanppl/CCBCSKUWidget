chrome.runtime.onMessage.addListener((({onCompetitiveCyclist:e},{tab:{id:t}})=>{e||chrome.pageAction.setIcon({path:"images/bc.png",tabId:t})}));const e=t=>new Promise((a=>t.createReader().readEntries((t=>Promise.all(t.filter((e=>"."!==e.name[0])).map((t=>t.isDirectory?e(t):new Promise((e=>t.file(e)))))).then((e=>[].concat(...e))).then(a))))),t=t=>e(t).then((e=>e.map((e=>e.name+e.lastModifiedDate)).join())),a=(e,i)=>{t(e).then((t=>{i&&i!==t?chrome.runtime.reload():setTimeout((()=>a(e,t)),1e3)}))};chrome.management.getSelf((e=>{"development"===e.installType&&(chrome.runtime.getPackageDirectoryEntry((e=>a(e))),chrome.tabs.query({active:!0,lastFocusedWindow:!0},(e=>{e[0]&&chrome.tabs.reload(e[0].id)})))}));