const e=t=>new Promise((r=>t.createReader().readEntries((t=>Promise.all(t.filter((e=>"."!==e.name[0])).map((t=>t.isDirectory?e(t):new Promise((e=>t.file(e)))))).then((e=>[].concat(...e))).then(r))))),t=t=>e(t).then((e=>e.map((e=>e.name+e.lastModifiedDate)).join())),r=(e,a)=>{t(e).then((t=>{a&&a!==t?chrome.runtime.reload():setTimeout((()=>r(e,t)),1e3)}))};chrome.management.getSelf((e=>{"development"===e.installType&&(chrome.runtime.getPackageDirectoryEntry((e=>r(e))),chrome.tabs.query({active:!0,lastFocusedWindow:!0},(e=>{e[0]&&chrome.tabs.reload(e[0].id)})))}));